(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{713:function(e,t,v){"use strict";v.r(t);var o=v(83),_=Object(o.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"内置依赖项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内置依赖项"}},[e._v("#")]),e._v(" 内置依赖项")]),e._v(" "),t("p",[e._v("在不同的事件（或周期中），可用的依赖项可能会有所不同。例如，当你在一个命令方法中可以使用 "),t("code",[e._v("BotContext")]),e._v(" 依赖，但在一个路由方法中却不能使用。")]),e._v(" "),t("p",[e._v("你也可以选择直接查看 "),t("code",[e._v("src/ZM/Container/ContainerRegistrant.php")]),e._v(" 文件，大部分依赖都在该处定义。\nGitHub 链接：https://github.com/zhamao-robot/zhamao-framework/blob/main/src/ZM/Container/ContainerRegistrant.php")]),e._v(" "),t("p",[e._v("本页面列出在不同事件中可用的依赖项。")]),e._v(" "),t("h2",{attrs:{id:"全局依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局依赖"}},[e._v("#")]),e._v(" 全局依赖")]),e._v(" "),t("p",[e._v("在任何事件（或任何支持依赖注入的地方）中，你都可以使用以下依赖项：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("Psr\\Log\\LoggerInterface")]),e._v("：日志记录器（可使用类的别名 "),t("code",[e._v("LoggerInterface")]),e._v("）")]),e._v(" "),t("li",[t("code",[e._v("Psr\\Container\\ContainerInterface")]),e._v("：容器（可使用别名 "),t("code",[e._v("ContainerInterface")]),e._v("）")]),e._v(" "),t("li",[t("code",[e._v("DI\\Container")]),e._v("：容器，区别在于可以使用 "),t("code",[e._v("set")]),e._v(" 方法来动态设置依赖项，与 "),t("code",[e._v("container")]),e._v(" 函数返回的实例相同")]),e._v(" "),t("li",[t("code",[e._v("ZM\\Config\\ZMConfig")]),e._v("：配置，与 "),t("code",[e._v("config")]),e._v(" 函数返回的实例相同（可使用别名 "),t("code",[e._v("ZMConfig")]),e._v("）")]),e._v(" "),t("li",[e._v("...")])]),e._v(" "),t("h2",{attrs:{id:"onebot-事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#onebot-事件"}},[e._v("#")]),e._v(" OneBot 事件")]),e._v(" "),t("p",[e._v("在 OneBot 事件（"),t("code",[e._v("@BotEvent")]),e._v("）中，你可以使用以下依赖项：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("OneBot\\V12\\Object\\OneBotEvent")]),e._v("：当前事件的实例（可使用别名 "),t("code",[e._v("OneBotEvent")]),e._v("）")]),e._v(" "),t("li",[t("code",[e._v("ZM\\Context\\BotContext")]),e._v("：当前事件的上下文，可使用别名 "),t("code",[e._v("BotContext")]),e._v("，部分事件可能不可用（要求传入的事件存在 "),t("code",[e._v("platform")]),e._v(" 字段）")])]),e._v(" "),t("h2",{attrs:{id:"onebot-动作响应"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#onebot-动作响应"}},[e._v("#")]),e._v(" OneBot 动作响应")]),e._v(" "),t("p",[e._v("在 OneBot 动作响应（"),t("code",[e._v("@BotActionResponse")]),e._v("）中，你可以使用以下依赖项：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("OneBot\\V12\\Object\\ActionResponse")]),e._v("：当前动作响应的实例（可使用别名 "),t("code",[e._v("ActionResponse")]),e._v("）")])]),e._v(" "),t("h2",{attrs:{id:"http-请求事件-路由事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http-请求事件-路由事件"}},[e._v("#")]),e._v(" HTTP 请求事件（路由事件）")]),e._v(" "),t("p",[e._v("在 HTTP 请求事件（"),t("code",[e._v("@Route")]),e._v("）中，你可以使用以下依赖项：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("OneBot\\Driver\\Event\\Http\\HttpRequestEvent")]),e._v("：当前事件的实例（可使用别名 "),t("code",[e._v("HttpRequestEvent")]),e._v("）")]),e._v(" "),t("li",[t("code",[e._v("Psr\\Http\\Message\\ServerRequestInterface")]),e._v("：当前请求的实例（可使用别名 "),t("code",[e._v("ServerRequestInterface")]),e._v("）")])]),e._v(" "),t("h2",{attrs:{id:"websocket-连接事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#websocket-连接事件"}},[e._v("#")]),e._v(" WebSocket 连接事件")]),e._v(" "),t("p",[e._v("在 WebSocket 连接事件（"),t("code",[e._v("@BindEvent(WebSocketOpenEvent::class)")]),e._v("）中，你可以使用以下依赖项：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("OneBot\\Driver\\Event\\WebSocket\\WebSocketOpenEvent")]),e._v("：当前事件的实例（可使用别名 "),t("code",[e._v("WebSocketOpenEvent")]),e._v("）")])]),e._v(" "),t("h2",{attrs:{id:"websocket-消息事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#websocket-消息事件"}},[e._v("#")]),e._v(" WebSocket 消息事件")]),e._v(" "),t("p",[e._v("在 WebSocket 消息事件（"),t("code",[e._v("@BindEvent(WebSocketMessageEvent::class)")]),e._v("）中，你可以使用以下依赖项：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("OneBot\\Driver\\Event\\WebSocket\\WebSocketMessageEvent")]),e._v("：当前事件的实例（可使用别名 "),t("code",[e._v("WebSocketMessageEvent")]),e._v("）")]),e._v(" "),t("li",[t("code",[e._v("Choir\\WebSocket\\FrameInterface")]),e._v("：当前消息（帧）的实例（可使用别名 "),t("code",[e._v("FrameInterface")]),e._v("）")])]),e._v(" "),t("h2",{attrs:{id:"websocket-关闭事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#websocket-关闭事件"}},[e._v("#")]),e._v(" WebSocket 关闭事件")]),e._v(" "),t("p",[e._v("在 WebSocket 关闭事件（"),t("code",[e._v("@BindEvent(WebSocketCloseEvent::class)")]),e._v("）中，你可以使用以下依赖项：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("OneBot\\Driver\\Event\\WebSocket\\WebSocketCloseEvent")]),e._v("：当前事件的实例（可使用别名 "),t("code",[e._v("WebSocketCloseEvent")]),e._v("）")])])])}),[],!1,null,null,null);t.default=_.exports}}]);